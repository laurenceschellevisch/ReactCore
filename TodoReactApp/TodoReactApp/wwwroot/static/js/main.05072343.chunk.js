(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,t,a){e.exports=a(368)},368:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),l=a.n(o),i=a(16),c=a(30),s=a(22),d=a(21),u=a(23),m=a(386),h=a(390),p=a(389),g=a(180),f={apiUrl:"https://localhost:44377/api/"},E=a(114),C=a.n(E),b=a(76),O=a(387),w=new(function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"isLoggedIn",value:function(e){return!("true"==e||!localStorage.getItem("authenticationData"))||(localStorage.clear(),sessionStorage.clear(),!1)}}]),e}()),S=function(e){var t=e.component,a=(e.role,e.logout),n=(e.parameter,Object(g.a)(e,["component","role","logout","parameter"]));return r.a.createElement(p.a,Object.assign({},n,{render:function(e){return w.isLoggedIn(a)?JSON.parse(localStorage.getItem("authenticationData"))&&Date.now()>Date.parse(JSON.parse(localStorage.getItem("authenticationData")).expiredate)?C()({method:"post",url:f.apiUrl+"Users/refreshAccessToken",data:{refreshToken:JSON.parse(localStorage.getItem("authenticationData")).refreshtoken},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){return console.log(e.status),localStorage.setItem("authenticationData",JSON.stringify(e.data)),!0}).catch(function(e){return console.log("error"),e.response&&e.response.data?alert(e.response.data):alert("there is an server error, please try again later!"),e.response&&e.response.data&&440===e.response.status?window.location.reload():console.log(),!1})?r.a.createElement(t,e):void 0:JSON.parse(localStorage.getItem("authenticationData")).email&&JSON.parse(localStorage.getItem("authenticationData")).token&&JSON.parse(localStorage.getItem("authenticationData")).refreshtoken&&Date.now()<Date.parse(JSON.parse(localStorage.getItem("authenticationData")).expiredate)?r.a.createElement(t,e):(localStorage.clear(),sessionStorage.clear(),alert("uw sessie is verlopen!"),r.a.createElement(O.a,{to:{pathname:"/login",state:{from:e.location}}})):r.a.createElement(O.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},j=(a(232),a(235),a(31)),v=a(388),y=a(385),I=a(369),k=a(379),N=a(391),D=a(383),A=a(382),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.Login(a.state)},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(O.a,{to:"/Home"})},a.state={email:"",password:"",redirect:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"Login",value:function(e){var t=this;C()({method:"post",url:f.apiUrl+"Users/login",data:{email:e.email,password:e.password},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){console.log(e),200===e.status&&(localStorage.setItem("authenticationData",JSON.stringify(e.data)),t.setState({redirect:!0}))}).catch(function(e){e.response&&e.response.data?b.NotificationManager.error(e.response.data,"Error"):b.NotificationManager.error("there is an server error, please try again later!","Error"),t.setState({redirect:!1})}).then(function(e){t.renderRedirect()})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderRedirect(),r.a.createElement("div",{className:"login-form"},r.a.createElement("style",null,"\nbody > div,\nbody > div > div,\nbody > div > div > div.login-form {\nheight: 100%;\n}\n"),r.a.createElement(v.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(v.a.Column,{style:{maxWidth:450}},r.a.createElement(y.a,{as:"h2",color:"teal",textAlign:"center"},r.a.createElement(I.a,{src:"/logo.png"})," Log-in to your account"),r.a.createElement(k.a,{onSubmit:this.handleSubmit,size:"large"},r.a.createElement(N.a,{stacked:!0},r.a.createElement(k.a.Input,{fluid:!0,required:!0,icon:"user",type:"email",name:"email",iconPosition:"left",placeholder:"E-mail address",defaultValue:this.state.email,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{fluid:!0,required:!0,icon:"lock",type:"password",name:"password",iconPosition:"left",placeholder:"Password",pe:"password",defaultValue:this.state.email,onChange:this.handleInputChange}),r.a.createElement(D.a,{type:"submit",color:"teal",fluid:!0,size:"large"},"Login"))),r.a.createElement(A.a,null,"Register ",r.a.createElement("a",{href:"/register"},"Sign Up"))))))}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.state.password===a.state.password2?a.ajax(a.state):alert("Wachtwoorden komen niet overeen")},a.PostTest=function(){console.log(a.state),C()({method:"POST",url:f.apiUrl+"Users/register",data:{firstName:a.state.FirstName,lastName:a.state.LastName,email:a.state.email,pass:a.state.password},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},a.state={FirstName:"",LastName:"",Email:"",password:"",password2:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"ajax",value:function(e){C()({method:"POST",url:f.apiUrl+"Users/register",data:{firstName:e.FirstName,lastName:e.LastName,email:e.Email,pass:e.password},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){console.log(e)}).catch(function(e){})}},{key:"render",value:function(){return r.a.createElement(v.a,{columns:3},r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Column,null),r.a.createElement(v.a.Column,null,r.a.createElement(N.a,null,r.a.createElement(k.a,{onSubmit:this.handleSubmit},r.a.createElement(k.a.Field,null,r.a.createElement(k.a.Input,{label:"First Name:",required:!0,name:"FirstName",type:"text",defaultValue:this.state.FirstName,onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement(k.a.Input,{label:"Last Name:",required:!0,name:"LastName",type:"text",defaultValue:this.state.LastName,onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement(k.a.Input,{label:"Email:",required:!0,name:"Email",type:"text",defaultValue:this.state.Email,onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement(k.a.Input,{label:"Phone:",required:!0,name:"Phone",type:"text",defaultValue:this.state.Phone,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{label:"Password:",required:!0,name:"password",type:"password",defaultValue:this.state.password,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{label:"Repeat password:",required:!0,name:"password2",type:"password",defaultValue:this.state.password2,onChange:this.handleInputChange}),r.a.createElement("br",null)),r.a.createElement(D.a,{type:"submit"},"Submit"))))))}}]),t}(r.a.Component),R=a(376),F=a(37),J=a(384),U=a(377),L=a(378),P=a(380),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){"logout"==e.target.text?a.setState({logout:!0}):a.setState({home:!0})},a.renderRedirect=function(){if(a.state.home)return r.a.createElement(O.a,{to:"/Home"})},a.renderLogout=function(){if(a.state.logout)return r.a.createElement(O.a,{to:"/logout"})},a.render=function(){return r.a.createElement(r.a.Fragment,null,a.renderRedirect(),a.renderLogout(),r.a.createElement(J.a,{fixed:"top",inverted:!0},r.a.createElement(U.a,null,r.a.createElement(J.a.Item,{as:"a",name:"home",onClick:a.onClick,header:!0},"React Todo List"),r.a.createElement(J.a.Item,{as:"a",name:"home",onClick:a.onClick},"Home"),r.a.createElement(J.a.Item,{as:"a",name:"logout",onClick:a.onClick},"logout"))),r.a.createElement(U.a,{text:!0,style:{marginTop:"7em"}},r.a.createElement(y.a,{as:"h1"},"Hi ",JSON.parse(localStorage.getItem("authenticationData")).email,"!"),a.props.children),r.a.createElement(N.a,{inverted:!0,vertical:!0,style:{margin:"5em 0em 0em",padding:"5em 0em",position:"fixed",left:"0",bottom:"0",width:"100%"}},r.a.createElement(U.a,{textAlign:"center"},r.a.createElement(L.a,{inverted:!0,section:!0}),r.a.createElement(P.a,{horizontal:!0,inverted:!0,divided:!0,link:!0},r.a.createElement(P.a.Item,{as:"a",href:"#"},"Contact Us"),r.a.createElement(P.a.Item,{as:"a",href:"#"},"Terms and Conditions"),r.a.createElement(P.a.Item,{as:"a",href:"#"},"Privacy Policy")))))},a.state={home:!1,logout:!1},a.onClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a}return Object(u.a)(t,e),t}(r.a.Component),q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).handleInputChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){C()({method:"post",url:f.apiUrl+"todoes/addtodo",data:{email:JSON.parse(localStorage.getItem("authenticationData")).email,todoDesc:e.state.todo},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){return console.log(e),e.data}).catch(function(e){return console.log(e),e}).then(function(t){e.setState({redirect:!0})})},e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(O.a,{to:"/Home"})},e.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null,r.a.createElement(v.a,null,e.renderRedirect(),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Column,null,r.a.createElement(N.a,null,r.a.createElement(k.a,{onSubmit:e.handleSubmit},r.a.createElement(k.a.Field,null,r.a.createElement(R.a,{placeholder:"Todo",label:"Todo Description:",required:!0,name:"todo",defaultValue:e.state.todo,onChange:e.handleInputChange})),r.a.createElement(D.a,{type:"submit"},"Submit"))))))))},e.state={todo:"",redirect:!1},e}return Object(u.a)(t,e),t}(r.a.Component),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){C()({method:"get",url:f.apiUrl+"todoes/gettodo/"+a.props.location.state.id,data:{},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return e}).then(function(e){a.setState({todo:e[0].description})})},a.handleInputChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){C()({method:"post",url:f.apiUrl+"todoes/Edittodo",data:{email:JSON.parse(localStorage.getItem("authenticationData")).email,id:a.props.location.state.id,todoDesc:a.state.todo},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return e}).then(function(e){a.setState({redirect:!0})})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(O.a,{to:"/Home"})},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null,r.a.createElement(v.a,null,a.renderRedirect(),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Column,null,r.a.createElement(N.a,null,r.a.createElement(k.a,{onSubmit:a.handleSubmit},r.a.createElement(k.a.Field,null,r.a.createElement(R.a,{placeholder:"Todo",label:"Todo Description:",required:!0,name:"todo",value:a.state.todo,onChange:a.handleInputChange})),r.a.createElement(D.a,{type:"submit"},"Submit"))))))))},a.state={todo:"",redirect:!1},a}return Object(u.a)(t,e),t}(r.a.Component),M=a(381),W=a(163),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){if("delete"==e.target.name)C()({method:"post",url:f.apiUrl+"todoes/Deletetodo",data:{id:e.target.id,email:JSON.parse(localStorage.getItem("authenticationData")).email},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){return window.location.reload(),e.data}).catch(function(e){return e});else a.props.onClick(e.target.name)},a.render=function(){return r.a.createElement(M.a.Row,null,r.a.createElement(M.a.Cell,null,r.a.createElement(W.a,null,a.props.id)),r.a.createElement(M.a.Cell,null,r.a.createElement(W.a,null,a.props.description)),r.a.createElement(M.a.Cell,null,r.a.createElement(D.a,{onClick:a.handleClick,id:a.props.id,name:"edit"},"edit"),r.a.createElement(D.a,{onClick:a.handleClick,id:a.props.id,name:"delete"},"delete")))},a.state={refresh:""},a}return Object(u.a)(t,e),t}(r.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){C()({method:"get",url:f.apiUrl+"todoes/Gettodos/"+JSON.parse(localStorage.getItem("authenticationData")).email,data:{},withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){return e}).then(function(e){console.log(e),a.setState({todos:e})})},a.redirectAdd=function(){if(a.state.addtodo)return r.a.createElement(O.a,{to:"/addtodo"})},a.redirectEdit=function(){if(a.state.edittodo)return alert(a.state.id),r.a.createElement(O.a,{to:{pathname:"/edittodo",state:{id:a.state.id}}})},a.state={open:!1,todos:[],edittodo:!1,addtodo:!1,id:""},a.onClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.setState(Object(j.a)({},e.target.name,!0))}},{key:"render",value:function(){var e=this;this.state.open;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null,this.redirectEdit(),this.redirectAdd(),r.a.createElement(M.a,null,r.a.createElement(M.a.Header,null,r.a.createElement(M.a.Row,null,r.a.createElement(M.a.HeaderCell,null,"Id"),r.a.createElement(M.a.HeaderCell,null,"Todo"),r.a.createElement(M.a.HeaderCell,null,"Edit"))),this.state.todos.map(function(t){return r.a.createElement(z,{id:t.id,description:t.description,onClick:function(t){e.setState({id:t,edittodo:!0})}})})),r.a.createElement(D.a,{name:"addtodo",onClick:this.onClick},"Add")))}}]),t}(r.a.Component),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/login",component:T}),r.a.createElement(p.a,{exact:!0,path:"/register",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(S,{logout:"true",path:"/logout",component:T}),r.a.createElement(S,{path:"/Home",component:B}),r.a.createElement(S,{exact:!0,path:"/addtodo",component:q}),r.a.createElement(S,{exact:!0,path:"/edittodo",component:V}),"} />",r.a.createElement(p.a,{render:function(e){return r.a.createElement("h1",null,"Not Found")}}))),r.a.createElement(b.NotificationContainer,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[191,2,1]]]);
//# sourceMappingURL=main.05072343.chunk.js.map